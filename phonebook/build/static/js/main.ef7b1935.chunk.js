(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{41:function(e,n,t){"use strict";t.r(n);var o=t(17),i=t.n(o),c=t(8),a=t(3),r=t(1),u=t(0),l=function(e){var n=e.person,t=e.handleDelete;return Object(u.jsx)("div",{children:Object(u.jsxs)("li",{className:"name",children:[n.name," ",n.number," ",Object(u.jsx)("button",{type:"submit",style:{color:"violet"},onClick:function(){return t(n.id,n.name)},children:"poista"})]})})},s=function(e){var n=e.filteredNames,t=e.handleDelete;return Object(u.jsx)("div",{children:n.map((function(e){return Object(u.jsx)(l,{person:e,handleDelete:t},e.name)}))})},d=function(e){var n=e.filterName,t=e.handleFilterChange;return Object(u.jsxs)("div",{children:["suodata ",Object(u.jsx)("input",{value:n,onChange:t})]})},h=function(e){var n=e.addPerson,t=e.newName,o=e.handleNameChange,i=e.newNumber,c=e.handleNumberChange;e.handleChangingNumber;return Object(u.jsxs)("form",{onSubmit:n,children:[Object(u.jsx)("h2",{children:"Lis\xe4\xe4 uusi"}),Object(u.jsxs)("div",{children:["nimi: ",Object(u.jsx)("input",{value:t,onChange:o})]}),Object(u.jsxs)("div",{children:["numero: ",Object(u.jsx)("input",{value:i,onChange:c})]}),Object(u.jsx)("div",{children:Object(u.jsx)("button",{type:"submit",children:"lis\xe4\xe4"})})]})},j=function(e){var n=e.message,t={color:e.errorMessage?"darkred":"darkviolet",background:"lightgrey",fontSize:18,borderStyle:"solid",borderRadius:5,padding:10,marginBottom:10};return null===n?null:Object(u.jsx)("div",{style:t,children:n})},b=t(4),m=t.n(b),f="http://localhost:3001/persons",O=function(){return m.a.get(f).then((function(e){return e.data}))},p=function(e){return m.a.post(f,e).then((function(e){return e.data}))},v=function(e,n){return m.a.delete("".concat(f,"/").concat(e),n).then((function(e){return e.data}))},g=function(e,n){return m.a.put("".concat(f,"/").concat(e),n).then((function(e){return e.data}))},x=function(){var e=Object(r.useState)([]),n=Object(a.a)(e,2),t=n[0],o=n[1],i=Object(r.useState)(""),l=Object(a.a)(i,2),b=l[0],m=l[1],f=Object(r.useState)(""),x=Object(a.a)(f,2),C=x[0],w=x[1],N=Object(r.useState)(""),k=Object(a.a)(N,2),y=k[0],S=k[1],L=Object(r.useState)(!0),T=Object(a.a)(L,2),D=T[0],P=T[1],H=Object(r.useState)(null),B=Object(a.a)(H,2),E=B[0],F=B[1];Object(r.useEffect)((function(){O().then((function(e){o(e)}))}),[]);var J=" "===y?t:t.filter((function(e){return e.name.toLowerCase().includes(y.toLowerCase())}));return Object(u.jsxs)("div",{children:[Object(u.jsx)("h1",{children:"Puhelinluettelo"}),Object(u.jsx)(j,{message:E,errorMessage:D}),Object(u.jsx)(d,{filterName:y,handleFilterChange:function(e){S(e.target.value)}}),Object(u.jsx)(h,{addPerson:function(e){e.preventDefault();var n={name:b,number:C},i=t.find((function(e){return e.name.toLowerCase()===n.name.toLowerCase()})),a=Object(c.a)(Object(c.a)({},i),{},{number:n.number});t.some((function(e){return e.name.toLowerCase()===n.name.toLowerCase()}))?(window.confirm("".concat(b," on jo lis\xe4tty puhelinmuistioon. Korvataanko vanha numero uudella?")),g(i.id,a).then((function(e){o(t.map((function(n){return n.name!==a.name?n:e}))),F("'".concat(b,"' puhelinnumero on p\xe4ivitetty")),P(!1),setTimeout((function(){F(null)}),5e3)})).catch((function(e){F("'".concat(b,"' puhelinnumeroa ei p\xe4ivitetty")),P(!0),setTimeout((function(){F(null)}),5e3),console.error("ep\xe4onnistui",e)}))):p(n).then((function(e){o(t.concat(e)),F("Henkil\xf6 '".concat(b,"' lis\xe4ttiin puhelinluetteloon")),P(!1),setTimeout((function(){F(null)}),5e3)})).catch((function(e){F("Henkil\xf6 '".concat(b,"' ei ole viel\xe4 puhelinluettelossa")),P(!0),setTimeout((function(){F(null)}),5e3),console.error("ep\xe4onnistui",e)})),m(" "),w(" ")},newName:b,handleNameChange:function(e){console.log(e.target.value),m(e.target.value)},newNumber:C,handleNumberChange:function(e){console.log(e.target.value),w(e.target.value)}}),Object(u.jsx)("h2",{children:"Numerot"}),Object(u.jsx)(s,{filteredNames:J,handleDelete:function(e,n){window.confirm("Poista ".concat(n," ?"))&&v(e).then((function(i){o(t.filter((function(n){return n.id!==e?n:!i}))),F("nimi '".concat(n,"' on poistettiin")),P(!1),console.log("nimi on poistettu: ",n),setTimeout((function(){F(null)}),5e3)})).catch((function(i){F("Henkil\xf6 '".concat(n,"' on jo poistettu")),P(!0),setTimeout((function(){F(null)}),5e3),console.error("ep\xe4onnistui",i),o(t.filter((function(n){return n.id!==e})))}))}})]})};i.a.render(Object(u.jsx)(x,{}),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.ef7b1935.chunk.js.map