{"version":3,"sources":["components/Persons.js","components/Filter.js","components/PersonForm.js","components/Notification.js","services/personsdata.js","App.js","index.js"],"names":["Person","person","handleDelete","className","name","number","type","style","color","onClick","id","Persons","filteredNames","map","Filter","filterName","handleFilterChange","value","onChange","PersonForm","addPerson","newName","handleNameChange","newNumber","handleNumberChange","handleChangingNumber","onSubmit","Notification","message","errorMessage","background","fontSize","borderStyle","borderRadius","padding","marginBottom","baseUrl","axios","get","then","response","data","newObject","post","delete","put","App","useState","persons","setPersons","setNewName","setNewNumber","setFilter","setErrorMessage","setMessage","useEffect","personService","initialNames","filter","toLowerCase","includes","event","target","preventDefault","nameObject","find","changedNumber","some","window","confirm","updatedNumber","setTimeout","catch","error","console","returnedName","concat","log","deletedName","p","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.ef7b1935.chunk.js","sourcesContent":["import React from 'react'\n\nconst Person = ({ person, handleDelete }) => {\n    return (\n      <div>\n        <li className='name'>{person.name} {person.number} <button type='submit' style={{color: 'violet'}} onClick={() => handleDelete(person.id, person.name)}>poista</button></li>\n      </div>\n      \n  )\n  }\n\n  const Persons = ({filteredNames, handleDelete}) => {\n\n    return (\n      <div>\n        {filteredNames.map(person => \n           <Person key={person.name}\n              person={person}\n              handleDelete={handleDelete}></Person>\n            )}\n    </div>\n    )\n  }\n  \n\nexport default Persons","import React from 'react'\n\n// suodatetaan filtterillä \nconst Filter = ({filterName, handleFilterChange}) => {\n   return (\n      <div>\n        suodata <input value={filterName}\n        onChange={handleFilterChange} />\n      </div>\n   )  \n}\n\nexport default Filter","import React from 'react'\n\nconst PersonForm = ({addPerson, newName, handleNameChange, newNumber, handleNumberChange, handleChangingNumber}) => {\n    return (\n      <form onSubmit={addPerson}>\n         <h2>Lisää uusi</h2>\n          <div>\n            nimi: <input value={newName}\n            onChange={handleNameChange}/>\n          </div>\n          <div>\n            numero: <input value={newNumber}\n            onChange={handleNumberChange}/>\n            </div>\n          <div>\n            <button type=\"submit\">lisää</button>\n          </div>\n        </form>\n    )\n  }\n\n  export default PersonForm","import React from 'react'\nconst Notification = ({ message, errorMessage}) => {\n    const style = {\n        // muuttaa väriä, jos tulee epäonnistuminen tai onnistuminen jne\n        color: errorMessage ? 'darkred' : 'darkviolet',\n        background: 'lightgrey',\n        fontSize: 18,\n        borderStyle: 'solid',\n        borderRadius: 5,\n        padding: 10,\n        marginBottom: 10,\n      };\n    \n    if (message === null ) {\n      return null\n    }\n    \n   \n    return (\n        <div style={style} >\n          {message}\n      </div>\n    )\n  }\n\n  export default Notification","import axios from 'axios'\nconst baseUrl = 'http://localhost:3001/persons'\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n  }\n  \n  const create = newObject => {\n    const request = axios.post(baseUrl, newObject)\n    return request.then(response => response.data)\n  }\n  \n  const remove = (id, newObject) => {\n    const request = axios.delete(`${baseUrl}/${id}`, newObject)\n    return request.then(response => response.data)\n  }\n\n  const update = (id, newObject) => {\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\n    return request.then(response => response.data)\n  }\n  \n  // eslint-disable-next-line import/no-anonymous-default-export\n  export default { getAll, create, remove, update }\n   \n   ","import React, { useState, useEffect } from 'react'\n// import axios from 'axios'\nimport Persons from './components/Persons'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Notification from './components/Notification'\nimport personService from './services/personsdata'\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber] = useState('')\n  const [ filterName, setFilter ] = useState('')\n  const [ errorMessage, setErrorMessage] = useState(true)\n  const [ message, setMessage] = useState(null)\n\n  useEffect(() => {\n    \n    personService\n      .getAll()\n      .then(initialNames => {\n        setPersons(initialNames)\n      })\n  }, [])\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    const nameObject = {\n      name: newName,\n      number: newNumber,\n    } \n\n    const person = persons.find(person => person.name.toLowerCase() === nameObject.name.toLowerCase())\n    const changedNumber = { ...person, number: nameObject.number } \n     \n    // estää uuden nimen lisäämisen, jos nimi on jo olemassa\n     if (persons.some(person => person.name.toLowerCase() === nameObject.name.toLowerCase())) { \n      // vanhan numeron korvaaminen uudella, henkilön tietojen päivittäminen\n        (window.confirm(`${newName} on jo lisätty puhelinmuistioon. Korvataanko vanha numero uudella?`))\n        personService\n        .update(person.id, changedNumber)\n        .then(updatedNumber => {\n        setPersons(persons.map(person => person.name !== changedNumber.name ? person : updatedNumber))\n        setMessage(\n          `'${newName}' puhelinnumero on päivitetty`\n        )\n        setErrorMessage(false)\n        setTimeout(() => {\n            setMessage(null)\n          }, 5000)\n        })\n        .catch (error => {\n          setMessage(\n            `'${newName}' puhelinnumeroa ei päivitetty`\n          )\n          setErrorMessage(true)\n          setTimeout(() => {\n              setMessage(null)\n            }, 5000)\n         console.error('epäonnistui', error);\n        })\n    } else {\n      // concat luo uuden taulukon, \n      // johon sisältyvät sekä vanhan taulukon että uuden kohteen sisältö.\n\n      personService\n      .create(nameObject)\n      .then(returnedName => {\n        setPersons(persons.concat(returnedName)) \n        setMessage(\n          `Henkilö '${newName}' lisättiin puhelinluetteloon`\n        ) \n        setErrorMessage(false)\n        setTimeout(() => {\n          setMessage(null)\n        }, 5000)\n      })\n      .catch (error => {\n        setMessage(\n          `Henkilö '${newName}' ei ole vielä puhelinluettelossa`\n        ) \n        setErrorMessage(true)\n        setTimeout(() => {\n          setMessage(null)\n        }, 5000)\n        console.error('epäonnistui', error);\n      })\n    }\n    setNewName(' ')\n    setNewNumber(' ')\n  }\n\n  //  nimen poistaminen\n  const handleDelete = (id, name) => {\n    if (window.confirm(`Poista ${name} ?`)) {\n      personService\n      .remove(id)\n      .then(deletedName => {\n        setPersons(persons.filter(person => person.id !== id ? person : !deletedName))\n        setMessage(`nimi '${name}' on poistettiin`) \n        setErrorMessage(false)\n        console.log ('nimi on poistettu: ', name)\n        setTimeout(() => {\n          setMessage(null)\n        }, 5000)\n    })\n    .catch(error => {\n      setMessage(\n        `Henkilö '${name}' on jo poistettu`\n      )\n      setErrorMessage(true)\n      setTimeout(() => {\n        setMessage(null)\n      }, 5000)\n    console.error('epäonnistui', error);\n    setPersons(persons.filter(p => p.id !== id))\n    })   \n  }\n}\n\n  const handleNameChange = (event) => {\n    console.log(event.target.value)\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    console.log(event.target.value)\n    setNewNumber(event.target.value)\n  }\n\n  const handleFilterChange = (event) => {\n    setFilter(event.target.value)\n  }\n\n // suodattaa (.filter) nimiä niihin, jotka sisältävät osia jo olemassa olevista nimistä\n // (.includes -metodi), kirjainkoolla ei ole merkitystä\nconst filteredNames = filterName === \" \"\n    ? persons\n    : persons.filter(person => person.name.toLowerCase().includes(filterName.toLowerCase()))\n\n \nreturn (\n  <div>\n    <h1>Puhelinluettelo</h1>\n\n    <Notification message={message} errorMessage={errorMessage}/>\n    <Filter filterName={filterName} handleFilterChange={handleFilterChange} />\n\n    <PersonForm addPerson={addPerson} \n    newName={newName} \n    handleNameChange={handleNameChange} \n    newNumber={newNumber} \n    handleNumberChange={handleNumberChange} \n    /> \n      \n    <h2>Numerot</h2>\n\n    <Persons filteredNames={filteredNames} handleDelete={handleDelete} />\n  </div>\n)\n}\n\nexport default App\n\n\n/* window.confirm() kehottaa selainta näyttämään valintaikkunan, \njossa on valinnainen viesti, ja odottamaan, kunnes käyttäjä \njoko vahvistaa tai peruuttaa valintaikkunan.*/\n\n/*\n  import axios from 'axios'\n  useEffect(() => {\n    console.log('effect')\n    axios\n      .get('http://localhost:3001/persons')\n      .then(response => {\n        console.log('promise fulfilled')\n        setPersons(response.data)\n      })\n  }, [])\n\nconsole.log('render', persons.length,'persons')\n*/","import ReactDOM from 'react-dom'\nimport App from './App.js'\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}